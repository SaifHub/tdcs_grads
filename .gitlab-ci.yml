#image: docker:latest
#
## When using dind, it's wise to use the overlayfs driver for
## improved performance.
#variables:
#  DOCKER_DRIVER: overlay
#
#services:
#- docker:dind
#
#before_script:
#  - docker info
#
#build:
#  stage: build
#  script:
#    - docker build -t automation-test docker/
#  stage: test
#  script:
#    - docker run --privileged automation-test

#image: kaiwinter/docker-java8-maven
#stages:
#  - test
#test:
# script: "mvn clean test"

image: adrianchan/maven-xvfb

before_script:
  - service xvfb start

stages:
  - test

test:
  script:
    - mvn clean test
  artifacts:
    name: "${CI_BUILD_NAME}_${CI_BUILD_REF_NAME}"
    paths:
    - virtuoso-test-results/*.json
    expire_in: 1 week